<!DOCTYPE html>
<html style="font-size: 16px;" lang="es"><head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <meta name="keywords" content="Data Interpretation, Data Analysis, Exploring the Depths of Topic 4029724, Quantitative Analysis, Qualitative Research, Experimental Design, Mastering Topic 4029724: Key Insights">
    <meta name="description" content="">
    <title>Mapa</title>
    <link rel="stylesheet" href="nicepage.css" media="screen">
<link rel="stylesheet" href="index.css" media="screen">
<!-- Boostrap -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>

<!-- Fontawesome -->
<script src="https://kit.fontawesome.com/678a40a4d2.js" crossorigin="anonymous"></script>

<!-- Sweet Alert 2 -->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>


<!-- alerta -->
<script src="js/alerta.js"></script>

<!-- (Content Delivery Network) -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>

    <script class="u-script" type="text/javascript" src="jquery.js" defer=""></script>
    <script class="u-script" type="text/javascript" src="nicepage.js" defer=""></script>
    <meta name="generator" content="Nicepage 6.20.0, nicepage.com">
    <link id="u-theme-google-font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Oswald:200,300,400,500,600,700|Open+Sans:300,300i,400,400i,500,500i,600,600i,700,700i,800,800i">
    <link id="u-page-google-font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,500,500i,600,600i,700,700i,800,800i">
    <title>Map</title>
    <body data-home-page="index.html" data-home-page-title="index" data-path-to-root="./" data-include-products="false" class="u-body u-xl-mode" data-lang="es"><header class="u-clearfix u-header u-header" id="sec-a679"><a href="./" class="u-image u-logo u-image-1" data-image-width="980" data-image-height="980">
        <img src="images/Logo.png" class="u-logo-image u-logo-image-1">
      </a><nav class="u-menu u-menu-one-level u-offcanvas u-menu-1">
        <div class="menu-collapse" style="font-size: 1rem; letter-spacing: 0px;">
          <a class="u-button-style u-custom-left-right-menu-spacing u-custom-padding-bottom u-custom-top-bottom-menu-spacing u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base" href="#">
            <svg class="u-svg-link" viewBox="0 0 24 24"><use xlink:href="#menu-hamburger"></use></svg>
            <svg class="u-svg-content" version="1.1" id="menu-hamburger" viewBox="0 0 16 16" x="0px" y="0px" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg"><g><rect y="1" width="16" height="2"></rect><rect y="7" width="16" height="2"></rect><rect y="13" width="16" height="2"></rect>
</g></svg>
          </a>
        </div>
        <div class="u-custom-menu u-nav-container">
          <ul class="u-nav u-unstyled u-nav-1"><li class="u-nav-item"><a class="u-button-style u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base" href="Map.html" style="padding: 10px 20px;">Map</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base" href="index.html#carousel_0c90" style="padding: 10px 20px;">About Us</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base" href="index.html#carousel_540c" style="padding: 10px 20px;">Contact Us</a>
</li></ul>
        </div>
        <div class="u-custom-menu u-nav-container-collapse">
          <div class="u-black u-container-style u-inner-container-layout u-opacity u-opacity-95 u-sidenav">
            <div class="u-inner-container-layout u-sidenav-overflow">
              <div class="u-menu-close"></div>
              <ul class="u-align-center u-nav u-popupmenu-items u-unstyled u-nav-2"><li class="u-nav-item"><a class="u-button-style u-nav-link" href="Map.html">Map</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link" href="index.html#carousel_0c90">About Us</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link" href="index.html#carousel_540c">Contact Us</a>
</li></ul>
            </div>
          </div>
          <div class="u-black u-menu-overlay u-opacity u-opacity-70"></div>
        </div>
      </nav></header> 

    <style>
        #map {
            height: calc(100vh - 60px);
            width: 100%;
        }
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
        }
        /* Estilos para los botones de SweetAlert2 según la calidad del agua */
        .swal2-confirm-danger {
            background-color: #d9534f !important;
            color: white !important;
        }
        .swal2-confirm-success {
            background-color: #28a745 !important;
            color: white !important;
        }
        .swal2-confirm-warning {
            background-color: #ffc107 !important;
            color: white !important;
        }
        /* Clase para el botón "Mostrar gráfica" en azul */
        .swal2-confirm-blue {
            background-color: #007bff !important;
            color: white !important;
        }
    </style>
</head>
<body>
    <div align="center">
        <div id="map" class="container-fluid"></div>

        <script>
            var map = L.map('map').setView([21.5120, -104.8940], 13);
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
            }).addTo(map);

            var fuentesDeAgua = [
                {
                    nombre: "Rio San Pedro",
                    coordenadas: [22.226102510029904, -105.00979212636152],
                    calidad: "Moderada",
                    descripcion: "Agua apta solo para riego.",
                    imagen: "https://i.ytimg.com/vi/oeNxdDfUXG0/maxresdefault.jpg"
                },
                {
                    nombre: "Río Mololoa",
                    coordenadas: [21.51585409995925, -104.88884195220137],
                    calidad: "Peligrosa",
                    descripcion: "Agua contaminada, es peligroso su uso.",
                    imagen: "https://i0.wp.com/sonplayas.com/wp-content/uploads/2021/02/Basura-en-el-rio-Mololoa.-Fotografia-de-Gerardo-Espinoza.jpg?resize=700%2C466&ssl=1"
                },
                {
                    nombre: "Rio Grande",
                    coordenadas: [21.264028, -104.343727],
                    calidad: "Peligrosa",
                    descripcion: "Agua contaminada, es peligroso su uso.",
                    imagen: "https://www.ecured.cu/images/d/db/RioSantiago.jpg"
                },
                {
                    nombre: "Laguna de Mora",
                    coordenadas: [21.516758, -104.811909],
                    calidad: "Buena",
                    descripcion: "Agua en óptimas condiciones para su uso.",
                    imagen: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSwvN35erbFMqWutaaMFMcdXtA6dVQar08z3Q&s"
                },
                {
                    nombre: "Rio chiquito Amatlan de Cañas",
                    coordenadas: [20.80394858195299, -104.40808974962866],
                    calidad: "Buena",
                    descripcion: "Agua en óptimas condiciones para su uso.",
                    imagen: "https://s0.wklcdn.com/image_240/7222798/101718786/66191580.400x300.jpg"
                },
                {
                    nombre: "Rio Ameca",
                    coordenadas: [20.838401, -104.495727],
                    calidad: "Moderada",
                    descripcion: "Agua apta para riego.",
                    imagen: "https://storage.googleapis.com/tribunabahia/uploads/2023/10/Rio-Ameca-desbordado-905x613.jpg"
                },
                {
                    nombre: "Cascada el Cora",
                    coordenadas: [21.414812193928924, -105.12698881963927],
                    calidad: "Buena",
                    descripcion: "Agua en óptimas condiciones para su uso.",
                    imagen: "https://escapadas.mexicodesconocido.com.mx/wp-content/uploads/2023/08/Cascada-el-Cora-ficha-700x438.png"
                },
                {
                    nombre: "Rio Huicicila",
                    coordenadas: [21.320345002104013, -105.055278545828],
                    calidad: "Buena",
                    descripcion: "Agua en óptimas condiciones para su uso.",
                    imagen: "https://aynedjmv.wordpress.com/wp-content/uploads/2014/04/nayarit_landscape.jpg"
                },
                {
                    nombre: "Rio Huajimic",
                    coordenadas: [21.682471382309757, -104.31890872392408],
                    calidad: "Buena",
                    descripcion: "Agua en óptimas condiciones para su uso.",
                    imagen: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTGSypMxMJyUAAFcKTfUVWsRkE42WmlfMFQow&s"
                },
                {
                    nombre: "Laguna de Tepeltitic",
                    coordenadas: [21.273760171607496, -104.68462570269907],
                    calidad: "Buena",
                    descripcion: "Agua en óptimas condiciones para su uso.",
                    imagen: "https://www.meganoticias.mx/uploads/noticias/logran-recuperacion-de-laguna-de-tepetiltic-68002.jpeg"
                },
                {
                    nombre: "Laguna de San Pedro Lagunillas",
                    coordenadas: [21.207092, -104.733817],
                    calidad: "Buena",
                    descripcion: "Agua en óptimas condiciones para su uso.",
                    imagen: "https://www.corazondenayarit.com/wp-content/uploads/2021/02/san-pedro-lagunillas-nayarit2.jpg"
                },
                {
                    nombre: "Presa de Refilion",
                    coordenadas: [21.31053327955347, -104.89369957722249],
                    calidad: "Moderada",
                    descripcion: "Agua apta para riego.",
                    imagen: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQRzcP_47ag_UJVwiD87HNOtmRyhruX1kTfSw&s"
                },
                {
                    nombre: "Laguna Garzas",
                    coordenadas: [22.16928318601648, -105.40931795578376],
                    calidad: "Buena",
                    descripcion: "Agua en óptimas condiciones para su uso.",
                    imagen: "https://www.afmedios.com/wp-content/uploads/2021/07/laguna_valledelas_garzas_festival_101.jpg"
                },
                {
                    nombre: "Rio Acaponeta",
                    coordenadas: [22.16928318601648, -105.40931795578376],
                    calidad: "Buena",
                    descripcion: "Agua en óptimas condiciones para su uso.",
                    imagen: "https://visitnayarit.travel/wp-content/uploads/2023/07/galeria-_0002_puente-acaponeta.jpg"
                }
            ];

            function obtenerColorPorCalidad(calidad) {
                switch (calidad) {
                    case "Buena": return "green";
                    case "Moderada": return "orange";
                    case "Peligrosa": return "red";
                    default: return "blue";
                }
            }

            function obtenerClasePorCalidad(calidad) {
                switch (calidad) {
                    case "Buena": return "badge bg-success";
                    case "Moderada": return "badge bg-warning";
                    case "Peligrosa": return "badge bg-danger";
                    default: return "badge bg-primary";
                }
            }

            function obtenerColorSwal(calidad) {
                switch (calidad) {
                    case "Buena": return "#d4edda";
                    case "Moderada": return "#fff3cd";
                    case "Peligrosa": return "#f8d7da";
                    default: return "#cce5ff";
                }
            }

            fuentesDeAgua.forEach(function(fuente) {
                var marcador = L.circleMarker(fuente.coordenadas, {
                    color: obtenerColorPorCalidad(fuente.calidad),
                    radius: 12
                }).addTo(map);

                marcador.on('click', function() {
                    Swal.fire({
                        title: fuente.nombre,
                        text: fuente.descripcion,
                        imageUrl: fuente.imagen,
                        imageWidth: 400,
                        imageHeight: 200,
                        imageAlt: "Imagen de " + fuente.nombre,
                        background: obtenerColorSwal(fuente.calidad),
                        showCancelButton: true,  // Mostrar el botón de cancelar
                        confirmButtonText: "Mostrar gráfica",
                        cancelButtonText: "Cerrar",
                        customClass: {
                            confirmButton: "swal2-confirm-blue",  // Siempre azul
                            cancelButton: "btn btn-danger"        // Siempre rojo
                        }
                    }).then((result) => {
                        if (result.isConfirmed) {
                            // Redirigir a grafica.php con los datos del marcador seleccionados
                            window.location.href = `Graphic.html?nombre=${encodeURIComponent(fuente.nombre)}&calidad=${encodeURIComponent(fuente.calidad)}&descripcion=${encodeURIComponent(fuente.descripcion)}`;
                        }
                    });
                });
            });
        </script>
    </div>
</body>
</html>
